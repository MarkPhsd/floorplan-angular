import { Component } from '@angular/core';
import { FormArray, FormGroup, FormControl } from '@angular/forms';
import { fabric } from 'fabric';
import { FURNISHINGS } from '../../models/furnishings';
import { createShape, RL_FILL, RL_STROKE } from '../../helpers';
import * as i0 from "@angular/core";
import * as i1 from "@angular/material/dialog";
import * as i2 from "@angular/material/radio";
import * as i3 from "../../shared/components/zoom/zoom.component";
import * as i4 from "@angular/material/form-field";
import * as i5 from "@angular/material/select";
import * as i6 from "@angular/material/core";
import * as i7 from "@angular/material/button";
import * as i8 from "@angular/forms";
import * as i9 from "@angular/common";
import * as i10 from "@angular/material/input";
const WIDTH = 1100, HEIGHT = 400;
export class ChairsLayoutComponent {
    constructor(dialogRef) {
        this.dialogRef = dialogRef;
        this.layoutOption = 'NORMAL';
        this.chairs = [];
        this.zoom = 100;
    }
    ngOnInit() {
        this.chairs = FURNISHINGS.chairs;
        this.rectBlock = new FormGroup({
            chair: new FormControl(0),
            rows: new FormControl(1),
            sections: new FormControl(1),
            chairs: new FormControl(12),
            spacing_chair: new FormControl(0),
            spacing_row: new FormControl(22),
            spacing_sections: new FormControl([1, 2, 3, 4].map(() => new FormControl(5)))
        });
        const array = [];
        for (let i = 0; i < 20; i++) {
            array.push(i);
        }
        this.curvedBlock = new FormGroup({
            chair: new FormControl(0),
            radius: new FormControl(200),
            angle: new FormControl(180),
            rows: new FormControl(1),
            spacing_row: new FormControl(40),
            chairs: new FormArray(new Array(10).fill(new FormControl(10))),
        });
        console.log(this.curvedBlock);
        this.view = new fabric.Canvas('layout_chairs');
        this.view.setWidth(WIDTH);
        this.view.setHeight(HEIGHT);
        this.rectBlock.valueChanges.subscribe(() => this.changeLayout());
        this.curvedBlock.valueChanges.subscribe(() => this.changeLayout());
        this.changeLayout();
    }
    layoutOptionChanged(value) {
        this.layoutOption = value;
        this.changeLayout();
    }
    changeLayout() {
        const chrs = [];
        if (this.layoutOption === 'CURVED') {
            const { radius, angle, rows, chair, spacing_row, chairs } = this.curvedBlock.value;
            const start = -(angle / 2);
            for (let r = 0; r < rows; r++) {
                const N = chairs[r], A = angle / N;
                const rad = radius + r * spacing_row;
                for (let i = 0; i <= N; i += 1) {
                    const ca = start + i * A;
                    const chr = createShape(this.chairs[chair], RL_STROKE, RL_FILL);
                    chr.angle = ca;
                    const x = Math.sin(this.toRadians(ca)) * rad;
                    const y = Math.cos(this.toRadians(ca)) * rad;
                    chr.left = x;
                    chr.top = -y;
                    chr.angle += 180;
                    chrs.push(chr);
                }
            }
        }
        else {
            const { rows, sections, chairs, spacing_chair, spacing_row, chair } = this.rectBlock.value;
            const total = rows * chairs;
            const cps = Math.floor(chairs / sections); // Chairs per section
            let x = 0, y = 0;
            for (let i = 1; i <= total; i++) {
                const chr = createShape(this.chairs[chair], RL_STROKE, RL_FILL);
                chr.left = x, chr.top = y;
                if (i % chairs === 0) {
                    y += (spacing_row + chr.height);
                    x = 0;
                }
                else {
                    x += (chr.width + spacing_chair);
                    const s = Math.floor(i % chairs / cps);
                    if (i % chairs % cps === 0 && s + 1 <= this.sections) {
                        x += this.rectBlock.value.spacing_sections[s - 1];
                    }
                }
                chrs.push(chr);
            }
        }
        this.view.clear();
        this.layout = new fabric.Group(chrs, {
            originX: 'center',
            originY: 'center',
            left: WIDTH / 2,
            top: HEIGHT / 2,
            selectable: false,
            name: 'BLOCK:Chairs',
            hasControls: false,
        });
        this.layout.scale(this.zoom / 100);
        this.view.add(this.layout);
        this.view.renderAll();
    }
    onZoom(value) {
        this.zoom = value;
        this.layout.scale(value / 100);
        this.view.renderAll();
    }
    get spacing_sections() {
        const c = this.rectBlock.get('spacing_sections');
        return c.controls;
    }
    get sections() {
        return this.rectBlock.value.sections;
    }
    get curved_chairs() {
        const c = this.curvedBlock.get('chairs');
        return c.controls;
    }
    get curved_rows() {
        return this.curvedBlock.value.rows;
    }
    create() {
        this.layout.selectable = true;
        this.layout.scale(1);
        this.dialogRef.close(this.layout);
    }
    cancel() {
        this.dialogRef.close();
    }
    toRadians(angle) {
        return angle * (Math.PI / 180);
    }
    toDegrees(radian) {
        return radian * (180 / Math.PI);
    }
}
ChairsLayoutComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.12", ngImport: i0, type: ChairsLayoutComponent, deps: [{ token: i1.MatDialogRef }], target: i0.ɵɵFactoryTarget.Component });
ChairsLayoutComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.12", type: ChairsLayoutComponent, selector: "pointless-chairs-layout", ngImport: i0, template: "<div class=\"layout-chairs\">\r\n  <div>\r\n    <div class=\"layout-type flex-design\">\r\n      <mat-radio-group\r\n            aria-label=\"Select an layout\"\r\n            [ngModel]=\"layoutOption\"\r\n            (ngModelChange)=\"layoutOptionChanged($event)\">\r\n        <mat-radio-button value=\"NORMAL\">Normal</mat-radio-button>\r\n        <mat-radio-button value=\"CURVED\">Curved</mat-radio-button>\r\n      </mat-radio-group>\r\n      <app-zoom (zoomChange)=\"onZoom($event)\" [zoom]=\"zoom\"></app-zoom>\r\n    </div>\r\n    <form *ngIf=\"layoutOption === 'CURVED'\" [formGroup]=\"curvedBlock\" class=\"flex-design\">\r\n      <div>\r\n        <mat-form-field>\r\n          <mat-label>Select Chair</mat-label>\r\n          <mat-select formControlName=\"chair\">\r\n            <mat-option *ngFor=\"let chair of chairs; let i=index;\" [value]=\"i\">{{chair.title}}</mat-option>\r\n          </mat-select>\r\n        </mat-form-field>\r\n      </div>\r\n      <div class=\"flex-design\">\r\n        <div class=\"layout-option\">\r\n          <mat-form-field>\r\n            <input type=\"number\" min=\"1\" max=\"5\" formControlName=\"rows\" matInput placeholder=\"Number of Rounds\">\r\n            <mat-label>Between 1 to 5</mat-label>\r\n          </mat-form-field>\r\n        </div>\r\n        <div class=\"layout-option\">\r\n          <mat-form-field>\r\n            <input type=\"number\" min=\"50\" max=\"500\" formControlName=\"radius\" matInput placeholder=\"Radius(px)\">\r\n            <mat-label>Between 50 to 500</mat-label>\r\n          </mat-form-field>\r\n        </div>\r\n        <div class=\"layout-option\">\r\n          <mat-form-field>\r\n            <input type=\"number\" min=\"10\" max=\"360\" formControlName=\"angle\" matInput placeholder=\"Angle\">\r\n            <mat-label>Between 10 to 360</mat-label>\r\n          </mat-form-field>\r\n        </div>\r\n        <div class=\"layout-option\">\r\n          <mat-form-field>\r\n            <input type=\"number\" min=\"10\" max=\"50\" formControlName=\"spacing_row\" matInput\r\n              placeholder=\"Spacing between Rounds\">\r\n            <mat-label>Between 10 to 50</mat-label>\r\n          </mat-form-field>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <p>Number of chairs in rows</p>\r\n        <form formArrayName=\"chairs\" >\r\n          <div class=\"layout-option\" *ngFor=\"let n of curved_chairs | slice:0:curved_rows; let i=index\">\r\n            <mat-form-field>\r\n              <input matInput [formControlName]=\"i\" type=\"number\">\r\n            </mat-form-field>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </form>\r\n    <form *ngIf=\"layoutOption === 'NORMAL'\" [formGroup]=\"rectBlock\" class='flex-design'>\r\n      <div>\r\n        <mat-form-field>\r\n          <mat-label>Select Chair</mat-label>\r\n          <mat-select formControlName=\"chair\">\r\n            <mat-option *ngFor=\"let chair of chairs; let i=index;\" [value]=\"i\">{{chair.title}}</mat-option>\r\n          </mat-select>\r\n        </mat-form-field>\r\n      </div>\r\n      <div >\r\n        <div class=\"layout-option\">\r\n          <mat-form-field>\r\n            <mat-label>Sections</mat-label>\r\n            <mat-select formControlName=\"sections\">\r\n              <mat-option *ngFor=\"let opt of [1, 2, 3, 4]; let i=index;\" [value]=\"opt\">{{opt}}</mat-option>\r\n            </mat-select>\r\n          </mat-form-field>\r\n        </div>\r\n        <div class=\"layout-option\">\r\n          <mat-form-field>\r\n            <input type=\"number\" min=\"1\" max=\"50\" formControlName=\"rows\" matInput placeholder=\"Rows\">\r\n            <mat-label>Between 1 to 50</mat-label>\r\n          </mat-form-field>\r\n        </div>\r\n        <div class=\"layout-option\">\r\n          <mat-form-field>\r\n            <input type=\"number\" formControlName=\"chairs\" min=\"1\" matInput placeholder=\"Chairs in a row\">\r\n          </mat-form-field>\r\n        </div>\r\n        <div class=\"layout-option\">\r\n          <mat-form-field>\r\n            <input type=\"number\" min=\"0\" max=\"6\" formControlName=\"spacing_chair\" matInput\r\n              placeholder=\"Spacing between chairs(px)\">\r\n            <mat-label>Between 0 to 6</mat-label>\r\n          </mat-form-field>\r\n        </div>\r\n        <div>\r\n          <mat-form-field>\r\n            <input type=\"number\" min=\"0\" formControlName=\"spacing_row\" matInput placeholder=\"Spacing between rows(px)\">\r\n          </mat-form-field>\r\n        </div>\r\n      </div>\r\n      <div *ngIf=\"sections > 1\">\r\n        <p>Spacing between sections</p>\r\n        <form formArrayName=\"spacing_sections\" fxLayout fxLayoutGap=\"20px\">\r\n          <div class=\"layout-option\" *ngFor=\"let sec of spacing_sections | slice:0:sections-1; let i=index\">\r\n            <mat-form-field>\r\n              <input type=\"number\" matInput [formControlName]=\"i\" >\r\n            </mat-form-field>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </form>\r\n  </div>\r\n\r\n  <div>\r\n    <canvas id=\"layout_chairs\"></canvas>\r\n  </div>\r\n\r\n  <div style=\"margin-top: 1rem\">\r\n    <button mat-raised-button color=\"primary\" (click)=\"create()\">Create</button>\r\n    <button style=\"margin-left: 1rem\" mat-button color=\"primary\" (click)=\"cancel()\">Cancel</button>\r\n  </div>\r\n\r\n  <div *ngIf=\"curvedBlock\">\r\n    {{curvedBlock.value}}\r\n  </div>\r\n  <div *ngIf=\"rectBlock\">\r\n    {{rectBlock.value}}\r\n  </div>\r\n</div>\r\n", styles: [".layout-chairs .layout-type{padding:24px 0}.layout-chairs .layout-type mat-radio-button{margin-right:24px}.layout-chairs label{display:block;margin-bottom:5px;font-size:16px}.layout-chairs span{display:block;font-size:12px;color:#555}.layout-chairs .layout-option{margin-bottom:1rem}.layout-chairs canvas{border:1px solid #ececec;border-radius:3px}.layout-chairs p{margin-bottom:0}.flex-design{display:flex;flex-direction:column;align-content:space-between;gap:10px}\n"], components: [{ type: i2.MatRadioButton, selector: "mat-radio-button", inputs: ["disableRipple", "tabIndex"], exportAs: ["matRadioButton"] }, { type: i3.ZoomComponent, selector: "app-zoom", inputs: ["zoom"], outputs: ["zoomChange"] }, { type: i4.MatFormField, selector: "mat-form-field", inputs: ["color", "appearance", "hideRequiredMarker", "hintLabel", "floatLabel"], exportAs: ["matFormField"] }, { type: i5.MatSelect, selector: "mat-select", inputs: ["disabled", "disableRipple", "tabIndex"], exportAs: ["matSelect"] }, { type: i6.MatOption, selector: "mat-option", exportAs: ["matOption"] }, { type: i7.MatButton, selector: "button[mat-button], button[mat-raised-button], button[mat-icon-button],             button[mat-fab], button[mat-mini-fab], button[mat-stroked-button],             button[mat-flat-button]", inputs: ["disabled", "disableRipple", "color"], exportAs: ["matButton"] }], directives: [{ type: i2.MatRadioGroup, selector: "mat-radio-group", exportAs: ["matRadioGroup"] }, { type: i8.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { type: i8.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { type: i9.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i8.ɵNgNoValidate, selector: "form:not([ngNoForm]):not([ngNativeValidate])" }, { type: i8.NgControlStatusGroup, selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { type: i8.FormGroupDirective, selector: "[formGroup]", inputs: ["formGroup"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { type: i4.MatLabel, selector: "mat-label" }, { type: i8.FormControlName, selector: "[formControlName]", inputs: ["formControlName", "disabled", "ngModel"], outputs: ["ngModelChange"] }, { type: i9.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: i8.MinValidator, selector: "input[type=number][min][formControlName],input[type=number][min][formControl],input[type=number][min][ngModel]", inputs: ["min"] }, { type: i8.MaxValidator, selector: "input[type=number][max][formControlName],input[type=number][max][formControl],input[type=number][max][ngModel]", inputs: ["max"] }, { type: i8.NumberValueAccessor, selector: "input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]" }, { type: i8.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { type: i10.MatInput, selector: "input[matInput], textarea[matInput], select[matNativeControl],      input[matNativeControl], textarea[matNativeControl]", inputs: ["disabled", "id", "placeholder", "name", "required", "type", "errorStateMatcher", "aria-describedby", "value", "readonly"], exportAs: ["matInput"] }, { type: i8.NgForm, selector: "form:not([ngNoForm]):not([formGroup]),ng-form,[ngForm]", inputs: ["ngFormOptions"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { type: i8.FormArrayName, selector: "[formArrayName]", inputs: ["formArrayName"] }], pipes: { "slice": i9.SlicePipe } });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.12", ngImport: i0, type: ChairsLayoutComponent, decorators: [{
            type: Component,
            args: [{ selector: 'pointless-chairs-layout', template: "<div class=\"layout-chairs\">\r\n  <div>\r\n    <div class=\"layout-type flex-design\">\r\n      <mat-radio-group\r\n            aria-label=\"Select an layout\"\r\n            [ngModel]=\"layoutOption\"\r\n            (ngModelChange)=\"layoutOptionChanged($event)\">\r\n        <mat-radio-button value=\"NORMAL\">Normal</mat-radio-button>\r\n        <mat-radio-button value=\"CURVED\">Curved</mat-radio-button>\r\n      </mat-radio-group>\r\n      <app-zoom (zoomChange)=\"onZoom($event)\" [zoom]=\"zoom\"></app-zoom>\r\n    </div>\r\n    <form *ngIf=\"layoutOption === 'CURVED'\" [formGroup]=\"curvedBlock\" class=\"flex-design\">\r\n      <div>\r\n        <mat-form-field>\r\n          <mat-label>Select Chair</mat-label>\r\n          <mat-select formControlName=\"chair\">\r\n            <mat-option *ngFor=\"let chair of chairs; let i=index;\" [value]=\"i\">{{chair.title}}</mat-option>\r\n          </mat-select>\r\n        </mat-form-field>\r\n      </div>\r\n      <div class=\"flex-design\">\r\n        <div class=\"layout-option\">\r\n          <mat-form-field>\r\n            <input type=\"number\" min=\"1\" max=\"5\" formControlName=\"rows\" matInput placeholder=\"Number of Rounds\">\r\n            <mat-label>Between 1 to 5</mat-label>\r\n          </mat-form-field>\r\n        </div>\r\n        <div class=\"layout-option\">\r\n          <mat-form-field>\r\n            <input type=\"number\" min=\"50\" max=\"500\" formControlName=\"radius\" matInput placeholder=\"Radius(px)\">\r\n            <mat-label>Between 50 to 500</mat-label>\r\n          </mat-form-field>\r\n        </div>\r\n        <div class=\"layout-option\">\r\n          <mat-form-field>\r\n            <input type=\"number\" min=\"10\" max=\"360\" formControlName=\"angle\" matInput placeholder=\"Angle\">\r\n            <mat-label>Between 10 to 360</mat-label>\r\n          </mat-form-field>\r\n        </div>\r\n        <div class=\"layout-option\">\r\n          <mat-form-field>\r\n            <input type=\"number\" min=\"10\" max=\"50\" formControlName=\"spacing_row\" matInput\r\n              placeholder=\"Spacing between Rounds\">\r\n            <mat-label>Between 10 to 50</mat-label>\r\n          </mat-form-field>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <p>Number of chairs in rows</p>\r\n        <form formArrayName=\"chairs\" >\r\n          <div class=\"layout-option\" *ngFor=\"let n of curved_chairs | slice:0:curved_rows; let i=index\">\r\n            <mat-form-field>\r\n              <input matInput [formControlName]=\"i\" type=\"number\">\r\n            </mat-form-field>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </form>\r\n    <form *ngIf=\"layoutOption === 'NORMAL'\" [formGroup]=\"rectBlock\" class='flex-design'>\r\n      <div>\r\n        <mat-form-field>\r\n          <mat-label>Select Chair</mat-label>\r\n          <mat-select formControlName=\"chair\">\r\n            <mat-option *ngFor=\"let chair of chairs; let i=index;\" [value]=\"i\">{{chair.title}}</mat-option>\r\n          </mat-select>\r\n        </mat-form-field>\r\n      </div>\r\n      <div >\r\n        <div class=\"layout-option\">\r\n          <mat-form-field>\r\n            <mat-label>Sections</mat-label>\r\n            <mat-select formControlName=\"sections\">\r\n              <mat-option *ngFor=\"let opt of [1, 2, 3, 4]; let i=index;\" [value]=\"opt\">{{opt}}</mat-option>\r\n            </mat-select>\r\n          </mat-form-field>\r\n        </div>\r\n        <div class=\"layout-option\">\r\n          <mat-form-field>\r\n            <input type=\"number\" min=\"1\" max=\"50\" formControlName=\"rows\" matInput placeholder=\"Rows\">\r\n            <mat-label>Between 1 to 50</mat-label>\r\n          </mat-form-field>\r\n        </div>\r\n        <div class=\"layout-option\">\r\n          <mat-form-field>\r\n            <input type=\"number\" formControlName=\"chairs\" min=\"1\" matInput placeholder=\"Chairs in a row\">\r\n          </mat-form-field>\r\n        </div>\r\n        <div class=\"layout-option\">\r\n          <mat-form-field>\r\n            <input type=\"number\" min=\"0\" max=\"6\" formControlName=\"spacing_chair\" matInput\r\n              placeholder=\"Spacing between chairs(px)\">\r\n            <mat-label>Between 0 to 6</mat-label>\r\n          </mat-form-field>\r\n        </div>\r\n        <div>\r\n          <mat-form-field>\r\n            <input type=\"number\" min=\"0\" formControlName=\"spacing_row\" matInput placeholder=\"Spacing between rows(px)\">\r\n          </mat-form-field>\r\n        </div>\r\n      </div>\r\n      <div *ngIf=\"sections > 1\">\r\n        <p>Spacing between sections</p>\r\n        <form formArrayName=\"spacing_sections\" fxLayout fxLayoutGap=\"20px\">\r\n          <div class=\"layout-option\" *ngFor=\"let sec of spacing_sections | slice:0:sections-1; let i=index\">\r\n            <mat-form-field>\r\n              <input type=\"number\" matInput [formControlName]=\"i\" >\r\n            </mat-form-field>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </form>\r\n  </div>\r\n\r\n  <div>\r\n    <canvas id=\"layout_chairs\"></canvas>\r\n  </div>\r\n\r\n  <div style=\"margin-top: 1rem\">\r\n    <button mat-raised-button color=\"primary\" (click)=\"create()\">Create</button>\r\n    <button style=\"margin-left: 1rem\" mat-button color=\"primary\" (click)=\"cancel()\">Cancel</button>\r\n  </div>\r\n\r\n  <div *ngIf=\"curvedBlock\">\r\n    {{curvedBlock.value}}\r\n  </div>\r\n  <div *ngIf=\"rectBlock\">\r\n    {{rectBlock.value}}\r\n  </div>\r\n</div>\r\n", styles: [".layout-chairs .layout-type{padding:24px 0}.layout-chairs .layout-type mat-radio-button{margin-right:24px}.layout-chairs label{display:block;margin-bottom:5px;font-size:16px}.layout-chairs span{display:block;font-size:12px;color:#555}.layout-chairs .layout-option{margin-bottom:1rem}.layout-chairs canvas{border:1px solid #ececec;border-radius:3px}.layout-chairs p{margin-bottom:0}.flex-design{display:flex;flex-direction:column;align-content:space-between;gap:10px}\n"] }]
        }], ctorParameters: function () { return [{ type: i1.MatDialogRef }]; } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2hhaXJzLWxheW91dC5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi9zcmMvYXBwL2NvbXBvbmVudHMvY2hhaXJzLWxheW91dC9jaGFpcnMtbGF5b3V0LmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uL3NyYy9hcHAvY29tcG9uZW50cy9jaGFpcnMtbGF5b3V0L2NoYWlycy1sYXlvdXQuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBVSxNQUFNLGVBQWUsQ0FBQztBQUNsRCxPQUFPLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBZ0IsV0FBVyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFDakYsT0FBTyxFQUFFLE1BQU0sRUFBRSxNQUFNLFFBQVEsQ0FBQztBQUdoQyxPQUFPLEVBQUUsV0FBVyxFQUFFLE1BQU0sMEJBQTBCLENBQUM7QUFDdkQsT0FBTyxFQUFFLFdBQVcsRUFBRSxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sZUFBZSxDQUFDOzs7Ozs7Ozs7Ozs7QUFFaEUsTUFBTSxLQUFLLEdBQUcsSUFBSSxFQUFFLE1BQU0sR0FBRyxHQUFHLENBQUM7QUFPakMsTUFBTSxPQUFTLHFCQUFxQjtJQVdsQyxZQUFvQixTQUE4QztRQUE5QyxjQUFTLEdBQVQsU0FBUyxDQUFxQztRQVJsRSxpQkFBWSxHQUFHLFFBQVEsQ0FBQztRQUl4QixXQUFNLEdBQUcsRUFBRSxDQUFDO1FBRVosU0FBSSxHQUFHLEdBQUcsQ0FBQztJQUUyRCxDQUFDO0lBRXZFLFFBQVE7UUFDTixJQUFJLENBQUMsTUFBTSxHQUFHLFdBQVcsQ0FBQyxNQUFNLENBQUM7UUFFakMsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLFNBQVMsQ0FBQztZQUM3QixLQUFLLEVBQUUsSUFBSSxXQUFXLENBQUMsQ0FBQyxDQUFDO1lBQ3pCLElBQUksRUFBRSxJQUFJLFdBQVcsQ0FBQyxD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QztJQUNyQyxDQUFDO0lBRUQsTUFBTTtRQUNKLElBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQztRQUM5QixJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNyQixJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDcEMsQ0FBQztJQUVELE1BQU07UUFDSixJQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ3pCLENBQUM7SUFFRCxTQUFTLENBQUMsS0FBYTtRQUNyQixPQUFPLEtBQUssR0FBRyxDQUFDLElBQUksQ0FBQyxFQUFFLEdBQUcsR0FBRyxDQUFDLENBQUM7SUFDakMsQ0FBQztJQUVELFNBQVMsQ0FBQyxNQUFjO1FBQ3RCLE9BQU8sTUFBTSxHQUFHLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUNsQyxDQUFDOzttSEEzSlkscUJBQXFCO3VHQUFyQixxQkFBcUIsK0RDZnBDLG04S0FrSUE7NEZEbkhlLHFCQUFxQjtrQkFMbkMsU0FBUzsrQkFDRSx5QkFBeUIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xyXG5pbXBvcnQgeyBGb3JtQXJyYXksIEZvcm1Hcm91cCwgIEZvcm1CdWlsZGVyLCBGb3JtQ29udHJvbCB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcclxuaW1wb3J0IHsgZmFicmljIH0gZnJvbSAnZmFicmljJztcclxuaW1wb3J0IHsgTWF0RGlhbG9nUmVmIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvZGlhbG9nJztcclxuXHJcbmltcG9ydCB7IEZVUk5JU0hJTkdTIH0gZnJvbSAnLi4vLi4vbW9kZWxzL2Z1cm5pc2hpbmdzJztcclxuaW1wb3J0IHsgY3JlYXRlU2hhcGUsIFJMX0ZJTEwsIFJMX1NUUk9LRSB9IGZyb20gJy4uLy4uL2hlbHBlcnMnO1xyXG5cclxuY29uc3QgV0lEVEggPSAxMTAwLCBIRUlHSFQgPSA0MDA7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ3BvaW50bGVzcy1jaGFpcnMtbGF5b3V0JyxcclxuICB0ZW1wbGF0ZVVybDogJy4vY2hhaXJzLWxheW91dC5jb21wb25lbnQuaHRtbCcsXHJcbiAgc3R5bGVVcmxzOiBbJy4vY2hhaXJzLWxheW91dC5jb21wb25lbnQuc2NzcyddXHJcbn0pXHJcbmV4cG9ydCAgY2xhc3MgIENoYWlyc0xheW91dENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XHJcblxyXG4gIGxheW91dDogZmFicmljLkdyb3VwO1xyXG4gIGxheW91dE9wdGlvbiA9ICdOT1JNQUwnO1xyXG4gIHJlY3RCbG9jazogRm9ybUdyb3VwO1xyXG4gIGN1cnZlZEJsb2NrOiBGb3JtR3JvdXA7XHJcbiAgdmlldzogZmFicmljLkNhbnZhcztcclxuICBjaGFpcnMgPSBbXTtcclxuICBzcHM6IEZvcm1BcnJheTsgLy8gU3BhY2luZyBiZXR3ZWVuIHNlY3Rpb25zXHJcbiAgem9vbSA9IDEwMDtcclxuXHJcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBkaWFsb2dSZWY6IE1hdERpYWxvZ1JlZjxDaGFpcnNMYXlvdXRDb21wb25lbnQ+KSB7IH1cclxuXHJcbiAgbmdPbkluaXQoKSB7XHJcbiAgICB0aGlzLmNoYWlycyA9IEZVUk5JU0hJTkdTLmNoYWlycztcclxuXHJcbiAgICB0aGlzLnJlY3RCbG9jayA9IG5ldyBGb3JtR3JvdXAoe1xyXG4gICAgICBjaGFpcjogbmV3IEZvcm1Db250cm9sKDApLFxyXG4gICAgICByb3dzOiBuZXcgRm9ybUNvbnRyb2woMSksXHJcbiAgICAgIHNlY3Rpb25zOiBuZXcgRm9ybUNvbnRyb2woMSksXHJcbiAgICAgIGNoYWlyczogbmV3IEZvcm1Db250cm9sKDEyKSxcclxuICAgICAgc3BhY2luZ19jaGFpcjogbmV3IEZvcm1Db250cm9sKDApLFxyXG4gICAgICBzcGFjaW5nX3JvdzogbmV3IEZvcm1Db250cm9sKDIyKSxcclxuICAgICAgc3BhY2luZ19zZWN0aW9uczogbmV3IEZvcm1Db250cm9sKFsxLCAyLCAzLCA0XS5tYXAoKCkgPT4gbmV3IEZvcm1Db250cm9sKDUpKSlcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0IGFycmF5ID0gW107XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDIwOyBpKyspIHtcclxuICAgICAgYXJyYXkucHVzaChpKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmN1cnZlZEJsb2NrID0gbmV3IEZvcm1Hcm91cCh7XHJcbiAgICAgIGNoYWlyOiBuZXcgRm9ybUNvbnRyb2woMCksXHJcbiAgICAgIHJhZGl1czogbmV3IEZvcm1Db250cm9sKDIwMCksXHJcbiAgICAgIGFuZ2xlOiBuZXcgRm9ybUNvbnRyb2woMTgwKSxcclxuICAgICAgcm93czogbmV3IEZvcm1Db250cm9sKDEpLFxyXG4gICAgICBzcGFjaW5nX3JvdzogbmV3IEZvcm1Db250cm9sKDQwKSxcclxuICAgICAgY2hhaXJzOiBuZXcgRm9ybUFycmF5KG5ldyBBcnJheSgxMCkuZmlsbChuZXcgRm9ybUNvbnRyb2woMTApKSksXHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyh0aGlzLmN1cnZlZEJsb2NrKTtcclxuXHJcbiAgICB0aGlzLnZpZXcgPSBuZXcgZmFicmljLkNhbnZhcygnbGF5b3V0X2NoYWlycycpO1xyXG4gICAgdGhpcy52aWV3LnNldFdpZHRoKFdJRFRIKTtcclxuICAgIHRoaXMudmlldy5zZXRIZWlnaHQoSEVJR0hUKTtcclxuXHJcbiAgICB0aGlzLnJlY3RCbG9jay52YWx1ZUNoYW5nZXMuc3Vic2NyaWJlKCgpID0+IHRoaXMuY2hhbmdlTGF5b3V0KCkpO1xyXG4gICAgdGhpcy5jdXJ2ZWRCbG9jay52YWx1ZUNoYW5nZXMuc3Vic2NyaWJlKCgpID0+IHRoaXMuY2hhbmdlTGF5b3V0KCkpO1xyXG4gICAgdGhpcy5jaGFuZ2VMYXlvdXQoKTtcclxuICB9XHJcblxyXG4gIGxheW91dE9wdGlvbkNoYW5nZWQodmFsdWU6ICdDVVJWRUQnIHwgJ05PUk1BTCcpIHtcclxuICAgIHRoaXMubGF5b3V0T3B0aW9uID0gdmFsdWU7XHJcbiAgICB0aGlzLmNoYW5nZUxheW91dCgpO1xyXG4gIH1cclxuXHJcbiAgY2hhbmdlTGF5b3V0KCkge1xyXG4gICAgY29uc3QgY2hycyA9IFtdO1xyXG5cclxuICAgIGlmICh0aGlzLmxheW91dE9wdGlvbiA9PT0gJ0NVUlZFRCcpIHtcclxuICAgICAgY29uc3QgeyByYWRpdXMsIGFuZ2xlLCByb3dzLCBjaGFpciwgc3BhY2luZ19yb3csIGNoYWlycyB9ID0gdGhpcy5jdXJ2ZWRCbG9jay52YWx1ZTtcclxuICAgICAgY29uc3Qgc3RhcnQgPSAtKGFuZ2xlIC8gMik7XHJcbiAgICAgIGZvciAobGV0IHIgPSAwOyByIDwgcm93czsgcisrKSB7XHJcbiAgICAgICAgY29uc3QgTiA9IGNoYWlyc1tyXSwgQSA9IGFuZ2xlIC8gTjtcclxuICAgICAgICBjb25zdCByYWQgPSByYWRpdXMgKyByICogc3BhY2luZ19yb3c7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPD0gTjsgaSArPSAxKSB7XHJcbiAgICAgICAgICBjb25zdCBjYSA9IHN0YXJ0ICsgaSAqIEE7XHJcbiAgICAgICAgICBjb25zdCBjaHIgPSBjcmVhdGVTaGFwZSh0aGlzLmNoYWlyc1tjaGFpcl0sIFJMX1NUUk9LRSwgUkxfRklMTCk7XHJcbiAgICAgICAgICBjaHIuYW5nbGUgPSBjYTtcclxuICAgICAgICAgIGNvbnN0IHggPSBNYXRoLnNpbih0aGlzLnRvUmFkaWFucyhjYSkpICogcmFkO1xyXG4gICAgICAgICAgY29uc3QgeSA9IE1hdGguY29zKHRoaXMudG9SYWRpYW5zKGNhKSkgKiByYWQ7XHJcbiAgICAgICAgICBjaHIubGVmdCA9IHg7XHJcbiAgICAgICAgICBjaHIudG9wID0gLXk7XHJcbiAgICAgICAgICBjaHIuYW5nbGUgKz0gMTgwO1xyXG4gICAgICAgICAgY2hycy5wdXNoKGNocik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCB7IHJvd3MsIHNlY3Rpb25zLCBjaGFpcnMsIHNwYWNpbmdfY2hhaXIsIHNwYWNpbmdfcm93LCBjaGFpciB9ID0gdGhpcy5yZWN0QmxvY2sudmFsdWU7XHJcbiAgICAgIGNvbnN0IHRvdGFsID0gcm93cyAqIGNoYWlycztcclxuICAgICAgY29uc3QgY3BzID0gTWF0aC5mbG9vcihjaGFpcnMgLyBzZWN0aW9ucyk7IC8vIENoYWlycyBwZXIgc2VjdGlvblxyXG4gICAgICBsZXQgeCA9IDAsIHkgPSAwO1xyXG5cclxuICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gdG90YWw7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IGNociA9IGNyZWF0ZVNoYXBlKHRoaXMuY2hhaXJzW2NoYWlyXSwgUkxfU1RST0tFLCBSTF9GSUxMKTtcclxuICAgICAgICBjaHIubGVmdCA9IHgsIGNoci50b3AgPSB5O1xyXG5cclxuICAgICAgICBpZiAoaSAlIGNoYWlycyA9PT0gMCkge1xyXG4gICAgICAgICAgeSArPSAoc3BhY2luZ19yb3cgKyBjaHIuaGVpZ2h0KTtcclxuICAgICAgICAgIHggPSAwO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB4ICs9IChjaHIud2lkdGggKyBzcGFjaW5nX2NoYWlyKTtcclxuICAgICAgICAgIGNvbnN0IHMgPSBNYXRoLmZsb29yKGkgJSBjaGFpcnMgLyBjcHMpO1xyXG4gICAgICAgICAgaWYgKGkgJSBjaGFpcnMgJSBjcHMgPT09IDAgJiYgcyArIDEgPD0gdGhpcy5zZWN0aW9ucykge1xyXG4gICAgICAgICAgICB4ICs9IHRoaXMucmVjdEJsb2NrLnZhbHVlLnNwYWNpbmdfc2VjdGlvbnNbcyAtIDFdO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjaHJzLnB1c2goY2hyKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhpcy52aWV3LmNsZWFyKCk7XHJcbiAgICB0aGlzLmxheW91dCA9IG5ldyBmYWJyaWMuR3JvdXAoY2hycywge1xyXG4gICAgICBvcmlnaW5YOiAnY2VudGVyJyxcclxuICAgICAgb3JpZ2luWTogJ2NlbnRlcicsXHJcbiAgICAgIGxlZnQ6IFdJRFRIIC8gMixcclxuICAgICAgdG9wOiBIRUlHSFQgLyAyLFxyXG4gICAgICBzZWxlY3RhYmxlOiBmYWxzZSxcclxuICAgICAgbmFtZTogJ0JMT0NLOkNoYWlycycsXHJcbiAgICAgIGhhc0NvbnRyb2xzOiBmYWxzZSxcclxuICAgIH0pO1xyXG4gICAgdGhpcy5sYXlvdXQuc2NhbGUodGhpcy56b29tIC8gMTAwKTtcclxuICAgIHRoaXMudmlldy5hZGQodGhpcy5sYXlvdXQpO1xyXG4gICAgdGhpcy52aWV3LnJlbmRlckFsbCgpO1xyXG4gIH1cclxuXHJcbiAgb25ab29tKHZhbHVlOiBudW1iZXIpIHtcclxuICAgIHRoaXMuem9vbSA9IHZhbHVlO1xyXG4gICAgdGhpcy5sYXlvdXQuc2NhbGUodmFsdWUgLyAxMDApO1xyXG4gICAgdGhpcy52aWV3LnJlbmRlckFsbCgpO1xyXG4gIH1cclxuXHJcbiAgZ2V0IHNwYWNpbmdfc2VjdGlvbnMoKSB7XHJcbiAgICBjb25zdCBjID0gdGhpcy5yZWN0QmxvY2suZ2V0KCdzcGFjaW5nX3NlY3Rpb25zJykgYXMgRm9ybUFycmF5O1xyXG4gICAgcmV0dXJuIGMuY29udHJvbHM7XHJcbiAgfVxyXG5cclxuICBnZXQgc2VjdGlvbnMoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5yZWN0QmxvY2sudmFsdWUuc2VjdGlvbnM7XHJcbiAgfVxyXG5cclxuICBnZXQgY3VydmVkX2NoYWlycygpIHtcclxuICAgIGNvbnN0IGMgPSB0aGlzLmN1cnZlZEJsb2NrLmdldCgnY2hhaXJzJykgYXMgRm9ybUFycmF5O1xyXG4gICAgcmV0dXJuIGMuY29udHJvbHM7XHJcbiAgfVxyXG5cclxuICBnZXQgY3VydmVkX3Jvd3MoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jdXJ2ZWRCbG9jay52YWx1ZS5yb3dzO1xyXG4gIH1cclxuXHJcbiAgY3JlYXRlKCkge1xyXG4gICAgdGhpcy5sYXlvdXQuc2VsZWN0YWJsZSA9IHRydWU7XHJcbiAgICB0aGlzLmxheW91dC5zY2FsZSgxKTtcclxuICAgIHRoaXMuZGlhbG9nUmVmLmNsb3NlKHRoaXMubGF5b3V0KTtcclxuICB9XHJcblxyXG4gIGNhbmNlbCgpIHtcclxuICAgIHRoaXMuZGlhbG9nUmVmLmNsb3NlKCk7XHJcbiAgfVxyXG5cclxuICB0b1JhZGlhbnMoYW5nbGU6IG51bWJlcikge1xyXG4gICAgcmV0dXJuIGFuZ2xlICogKE1hdGguUEkgLyAxODApO1xyXG4gIH1cclxuXHJcbiAgdG9EZWdyZWVzKHJhZGlhbjogbnVtYmVyKSB7XHJcbiAgICByZXR1cm4gcmFkaWFuICogKDE4MCAvIE1hdGguUEkpO1xyXG4gIH1cclxufVxyXG4iLCI8ZGl2IGNsYXNzPVwibGF5b3V0LWNoYWlyc1wiPlxyXG4gIDxkaXY+XHJcbiAgICA8ZGl2IGNsYXNzPVwibGF5b3V0LXR5cGUgZmxleC1kZXNpZ25cIj5cclxuICAgICAgPG1hdC1yYWRpby1ncm91cFxyXG4gICAgICAgICAgICBhcmlhLWxhYmVsPVwiU2VsZWN0IGFuIGxheW91dFwiXHJcbiAgICAgICAgICAgIFtuZ01vZGVsXT1cImxheW91dE9wdGlvblwiXHJcbiAgICAgICAgICAgIChuZ01vZGVsQ2hhbmdlKT1cImxheW91dE9wdGlvbkNoYW5nZWQoJGV2ZW50KVwiPlxyXG4gICAgICAgIDxtYXQtcmFkaW8tYnV0dG9uIHZhbHVlPVwiTk9STUFMXCI+Tm9ybWFsPC9tYXQtcmFkaW8tYnV0dG9uPlxyXG4gICAgICAgIDxtYXQtcmFkaW8tYnV0dG9uIHZhbHVlPVwiQ1VSVkVEXCI+Q3VydmVkPC9tYXQtcmFkaW8tYnV0dG9uPlxyXG4gICAgICA8L21hdC1yYWRpby1ncm91cD5cclxuICAgICAgPGFwcC16b29tICh6b29tQ2hhbmdlKT1cIm9uWm9vbSgkZXZlbnQpXCIgW3pvb21dPVwiem9vbVwiPjwvYXBwLXpvb20+XHJcbiAgICA8L2Rpdj5cclxuICAgIDxmb3JtICpuZ0lmPVwibGF5b3V0T3B0aW9uID09PSAnQ1VSVkVEJ1wiIFtmb3JtR3JvdXBdPVwiY3VydmVkQmxvY2tcIiBjbGFzcz1cImZsZXgtZGVzaWduXCI+XHJcbiAgICAgIDxkaXY+XHJcbiAgICAgICAgPG1hdC1mb3JtLWZpZWxkPlxyXG4gICAgICAgICAgPG1hdC1sYWJlbD5TZWxlY3QgQ2hhaXI8L21hdC1sYWJlbD5cclxuICAgICAgICAgIDxtYXQtc2VsZWN0IGZvcm1Db250cm9sTmFtZT1cImNoYWlyXCI+XHJcbiAgICAgICAgICAgIDxtYXQtb3B0aW9uICpuZ0Zvcj1cImxldCBjaGFpciBvZiBjaGFpcnM7IGxldCBpPWluZGV4O1wiIFt2YWx1ZV09XCJpXCI+e3tjaGFpci50aXRsZX19PC9tYXQtb3B0aW9uPlxyXG4gICAgICAgICAgPC9tYXQtc2VsZWN0PlxyXG4gICAgICAgIDwvbWF0LWZvcm0tZmllbGQ+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2IGNsYXNzPVwiZmxleC1kZXNpZ25cIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwibGF5b3V0LW9wdGlvblwiPlxyXG4gICAgICAgICAgPG1hdC1mb3JtLWZpZWxkPlxyXG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIG1pbj1cIjFcIiBtYXg9XCI1XCIgZm9ybUNvbnRyb2xOYW1lPVwicm93c1wiIG1hdElucHV0IHBsYWNlaG9sZGVyPVwiTnVtYmVyIG9mIFJvdW5kc1wiPlxyXG4gICAgICAgICAgICA8bWF0LWxhYmVsPkJldHdlZW4gMSB0byA1PC9tYXQtbGFiZWw+XHJcbiAgICAgICAgICA8L21hdC1mb3JtLWZpZWxkPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJsYXlvdXQtb3B0aW9uXCI+XHJcbiAgICAgICAgICA8bWF0LWZvcm0tZmllbGQ+XHJcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwibnVtYmVyXCIgbWluPVwiNTBcIiBtYXg9XCI1MDBcIiBmb3JtQ29udHJvbE5hbWU9XCJyYWRpdXNcIiBtYXRJbnB1dCBwbGFjZWhvbGRlcj1cIlJhZGl1cyhweClcIj5cclxuICAgICAgICAgICAgPG1hdC1sYWJlbD5CZXR3ZWVuIDUwIHRvIDUwMDwvbWF0LWxhYmVsPlxyXG4gICAgICAgICAgPC9tYXQtZm9ybS1maWVsZD5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwibGF5b3V0LW9wdGlvblwiPlxyXG4gICAgICAgICAgPG1hdC1mb3JtLWZpZWxkPlxyXG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIG1pbj1cIjEwXCIgbWF4PVwiMzYwXCIgZm9ybUNvbnRyb2xOYW1lPVwiYW5nbGVcIiBtYXRJbnB1dCBwbGFjZWhvbGRlcj1cIkFuZ2xlXCI+XHJcbiAgICAgICAgICAgIDxtYXQtbGFiZWw+QmV0d2VlbiAxMCB0byAzNjA8L21hdC1sYWJlbD5cclxuICAgICAgICAgIDwvbWF0LWZvcm0tZmllbGQ+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImxheW91dC1vcHRpb25cIj5cclxuICAgICAgICAgIDxtYXQtZm9ybS1maWVsZD5cclxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBtaW49XCIxMFwiIG1heD1cIjUwXCIgZm9ybUNvbnRyb2xOYW1lPVwic3BhY2luZ19yb3dcIiBtYXRJbnB1dFxyXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU3BhY2luZyBiZXR3ZWVuIFJvdW5kc1wiPlxyXG4gICAgICAgICAgICA8bWF0LWxhYmVsPkJldHdlZW4gMTAgdG8gNTA8L21hdC1sYWJlbD5cclxuICAgICAgICAgIDwvbWF0LWZvcm0tZmllbGQ+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgICA8ZGl2PlxyXG4gICAgICAgIDxwPk51bWJlciBvZiBjaGFpcnMgaW4gcm93czwvcD5cclxuICAgICAgICA8Zm9ybSBmb3JtQXJyYXlOYW1lPVwiY2hhaXJzXCIgPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImxheW91dC1vcHRpb25cIiAqbmdGb3I9XCJsZXQgbiBvZiBjdXJ2ZWRfY2hhaXJzIHwgc2xpY2U6MDpjdXJ2ZWRfcm93czsgbGV0IGk9aW5kZXhcIj5cclxuICAgICAgICAgICAgPG1hdC1mb3JtLWZpZWxkPlxyXG4gICAgICAgICAgICAgIDxpbnB1dCBtYXRJbnB1dCBbZm9ybUNvbnRyb2xOYW1lXT1cImlcIiB0eXBlPVwibnVtYmVyXCI+XHJcbiAgICAgICAgICAgIDwvbWF0LWZvcm0tZmllbGQ+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Zvcm0+XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgPC9mb3JtPlxyXG4gICAgPGZvcm0gKm5nSWY9XCJsYXlvdXRPcHRpb24gPT09ICdOT1JNQUwnXCIgW2Zvcm1Hcm91cF09XCJyZWN0QmxvY2tcIiBjbGFzcz0nZmxleC1kZXNpZ24nPlxyXG4gICAgICA8ZGl2PlxyXG4gICAgICAgIDxtYXQtZm9ybS1maWVsZD5cclxuICAgICAgICAgIDxtYXQtbGFiZWw+U2VsZWN0IENoYWlyPC9tYXQtbGFiZWw+XHJcbiAgICAgICAgICA8bWF0LXNlbGVjdCBmb3JtQ29udHJvbE5hbWU9XCJjaGFpclwiPlxyXG4gICAgICAgICAgICA8bWF0LW9wdGlvbiAqbmdGb3I9XCJsZXQgY2hhaXIgb2YgY2hhaXJzOyBsZXQgaT1pbmRleDtcIiBbdmFsdWVdPVwiaVwiPnt7Y2hhaXIudGl0bGV9fTwvbWF0LW9wdGlvbj5cclxuICAgICAgICAgIDwvbWF0LXNlbGVjdD5cclxuICAgICAgICA8L21hdC1mb3JtLWZpZWxkPlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPGRpdiA+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImxheW91dC1vcHRpb25cIj5cclxuICAgICAgICAgIDxtYXQtZm9ybS1maWVsZD5cclxuICAgICAgICAgICAgPG1hdC1sYWJlbD5TZWN0aW9uczwvbWF0LWxhYmVsPlxyXG4gICAgICAgICAgICA8bWF0LXNlbGVjdCBmb3JtQ29udHJvbE5hbWU9XCJzZWN0aW9uc1wiPlxyXG4gICAgICAgICAgICAgIDxtYXQtb3B0aW9uICpuZ0Zvcj1cImxldCBvcHQgb2YgWzEsIDIsIDMsIDRdOyBsZXQgaT1pbmRleDtcIiBbdmFsdWVdPVwib3B0XCI+e3tvcHR9fTwvbWF0LW9wdGlvbj5cclxuICAgICAgICAgICAgPC9tYXQtc2VsZWN0PlxyXG4gICAgICAgICAgPC9tYXQtZm9ybS1maWVsZD5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwibGF5b3V0LW9wdGlvblwiPlxyXG4gICAgICAgICAgPG1hdC1mb3JtLWZpZWxkPlxyXG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIG1pbj1cIjFcIiBtYXg9XCI1MFwiIGZvcm1Db250cm9sTmFtZT1cInJvd3NcIiBtYXRJbnB1dCBwbGFjZWhvbGRlcj1cIlJvd3NcIj5cclxuICAgICAgICAgICAgPG1hdC1sYWJlbD5CZXR3ZWVuIDEgdG8gNTA8L21hdC1sYWJlbD5cclxuICAgICAgICAgIDwvbWF0LWZvcm0tZmllbGQ+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImxheW91dC1vcHRpb25cIj5cclxuICAgICAgICAgIDxtYXQtZm9ybS1maWVsZD5cclxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBmb3JtQ29udHJvbE5hbWU9XCJjaGFpcnNcIiBtaW49XCIxXCIgbWF0SW5wdXQgcGxhY2Vob2xkZXI9XCJDaGFpcnMgaW4gYSByb3dcIj5cclxuICAgICAgICAgIDwvbWF0LWZvcm0tZmllbGQ+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImxheW91dC1vcHRpb25cIj5cclxuICAgICAgICAgIDxtYXQtZm9ybS1maWVsZD5cclxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJudW1iZXJcIiBtaW49XCIwXCIgbWF4PVwiNlwiIGZvcm1Db250cm9sTmFtZT1cInNwYWNpbmdfY2hhaXJcIiBtYXRJbnB1dFxyXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU3BhY2luZyBiZXR3ZWVuIGNoYWlycyhweClcIj5cclxuICAgICAgICAgICAgPG1hdC1sYWJlbD5CZXR3ZWVuIDAgdG8gNjwvbWF0LWxhYmVsPlxyXG4gICAgICAgICAgPC9tYXQtZm9ybS1maWVsZD5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgPG1hdC1mb3JtLWZpZWxkPlxyXG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIG1pbj1cIjBcIiBmb3JtQ29udHJvbE5hbWU9XCJzcGFjaW5nX3Jvd1wiIG1hdElucHV0IHBsYWNlaG9sZGVyPVwiU3BhY2luZyBiZXR3ZWVuIHJvd3MocHgpXCI+XHJcbiAgICAgICAgICA8L21hdC1mb3JtLWZpZWxkPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgICAgPGRpdiAqbmdJZj1cInNlY3Rpb25zID4gMVwiPlxyXG4gICAgICAgIDxwPlNwYWNpbmcgYmV0d2VlbiBzZWN0aW9uczwvcD5cclxuICAgICAgICA8Zm9ybSBmb3JtQXJyYXlOYW1lPVwic3BhY2luZ19zZWN0aW9uc1wiIGZ4TGF5b3V0IGZ4TGF5b3V0R2FwPVwiMjBweFwiPlxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImxheW91dC1vcHRpb25cIiAqbmdGb3I9XCJsZXQgc2VjIG9mIHNwYWNpbmdfc2VjdGlvbnMgfCBzbGljZTowOnNlY3Rpb25zLTE7IGxldCBpPWluZGV4XCI+XHJcbiAgICAgICAgICAgIDxtYXQtZm9ybS1maWVsZD5cclxuICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cIm51bWJlclwiIG1hdElucHV0IFtmb3JtQ29udHJvbE5hbWVdPVwiaVwiID5cclxuICAgICAgICAgICAgPC9tYXQtZm9ybS1maWVsZD5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZm9ybT5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Zvcm0+XHJcbiAgPC9kaXY+XHJcblxyXG4gIDxkaXY+XHJcbiAgICA8Y2FudmFzIGlkPVwibGF5b3V0X2NoYWlyc1wiPjwvY2FudmFzPlxyXG4gIDwvZGl2PlxyXG5cclxuICA8ZGl2IHN0eWxlPVwibWFyZ2luLXRvcDogMXJlbVwiPlxyXG4gICAgPGJ1dHRvbiBtYXQtcmFpc2VkLWJ1dHRvbiBjb2xvcj1cInByaW1hcnlcIiAoY2xpY2spPVwiY3JlYXRlKClcIj5DcmVhdGU8L2J1dHRvbj5cclxuICAgIDxidXR0b24gc3R5bGU9XCJtYXJnaW4tbGVmdDogMXJlbVwiIG1hdC1idXR0b24gY29sb3I9XCJwcmltYXJ5XCIgKGNsaWNrKT1cImNhbmNlbCgpXCI+Q2FuY2VsPC9idXR0b24+XHJcbiAgPC9kaXY+XHJcblxyXG4gIDxkaXYgKm5nSWY9XCJjdXJ2ZWRCbG9ja1wiPlxyXG4gICAge3tjdXJ2ZWRCbG9jay52YWx1ZX19XHJcbiAgPC9kaXY+XHJcbiAgPGRpdiAqbmdJZj1cInJlY3RCbG9ja1wiPlxyXG4gICAge3tyZWN0QmxvY2sudmFsdWV9fVxyXG4gIDwvZGl2PlxyXG48L2Rpdj5cclxuIl19